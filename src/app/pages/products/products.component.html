<div class="container-fluid text-center mt-4">
    <h1 class="mb-4 fw-bold text-primary">üõçÔ∏è Productos</h1>

    <button type="button" class="btn btn-lg btn-primary mb-4 shadow-sm d-flex align-items-center justify-content-center gap-2" 
            style="padding: 10px 20px; border-radius: 10px; font-weight: bold;" 
            routerLink="/product-form/0">
        ‚ûï Agregar producto
    </button>

    <div class="d-flex justify-content-center align-content-center flex-wrap gap-4">
        @for(product of products; track $index){
            <div class="card shadow-lg border-0 rounded-4 overflow-hidden" 
                 style="width: 20rem; transition: transform 0.3s, box-shadow 0.3s; cursor: pointer;" 
                 (click)="goToProduct(product.id)"
                 onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0px 10px 20px rgba(0, 0, 0, 0.15)';" 
                 onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0px 5px 10px rgba(0, 0, 0, 0.1)';">
                
                <img 
                    [src]="product.image" 
                    class="card-img-top p-3 bg-light"
                    style="height: 220px; object-fit: contain; border-bottom: 1px solid #ddd;" 
                    [alt]="product.title">

                <div class="card-body">
                    <h5 class="card-title fw-bold text-dark">{{ product.title }}</h5>
                    <h6 class="card-subtitle mb-3 text-success fw-bold">$ {{ product.price.toFixed(2) }}</h6>

                    <div class="d-flex justify-content-between">
                        <button (click)="addToCart($event, product)" 
                                class="btn btn-outline-primary d-flex align-items-center gap-2"
                                style="font-weight: bold;">
                            üõí Agregar
                        </button>
                        
                        @if(role == "admin"){
                            <div class="d-flex gap-2">
                                <a [routerLink]="['/product-form', product.id]" 
                                   class="btn btn-outline-success d-flex align-items-center gap-2"
                                   style="font-weight: bold;">
                                    ‚úèÔ∏è Editar
                                </a>
                                <button (click)="deleteProduct($event, product.id)" 
                                        class="btn btn-outline-danger d-flex align-items-center gap-2"
                                        style="font-weight: bold;">
                                    ‚ùå Eliminar
                                </button>
                            </div>
                        }
                    </div>
                </div>
            </div>
        }
    </div>
</div>
